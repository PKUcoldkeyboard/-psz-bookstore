<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>管理员账号登录</title>
    <link rel="stylesheet" th:href="@{/admin/css/style.css}" />
    <link rel="stylesheet" th:href="@{/admin/css/admin_index.css}" />
    <link rel="stylesheet" th:href="@{/webjars/sweetalert2/9.15.1/dist/sweetalert2.min.css}">
    <style>
        body{height:100%;background:#16a085;overflow:hidden;}
		canvas{z-index:-1;position:absolute;}
</style>
</head>

<body>
    <dl class="admin_login" style="background:#16a085">
        <dt>
            <strong>管理员账号登陆</strong>
            <em>ResearchBubbling后台管理系统</em>
        </dt>
        <form action="##" id="loginForm" onsubmit="return false;">
            <dd class="user_icon">
                <input type="text" id="username" name="userAccount" placeholder="用户名" class="login_txtbx" />
            </dd>
            <dd class="pwd_icon">
                <input type="password" id="password" name="password" placeholder="密码" class="login_txtbx" />
            </dd>
            <dd>
                <input type="submit" value="立即登录" class="submit_btn" onclick="login()" />
            </dd>
        </form>
        <dd>
            <p>© 北京大学信息管理系</p>
        </dd>
    </dl>
</body>
<script th:src="@{/webjars/jquery/3.5.1/jquery.js}"></script>
<script th:src="@{/webjars/sweetalert2/9.15.1/dist/sweetalert2.all.min.js}"></script>
<script th:src="@{/webjars/sweetalert2/9.15.1/dist/sweetalert2.min.js}"></script>
<script th:src="@{/main/js/Particleground.js}"></script>
<script>
$(document).ready(function() {
    //粒子背景特效
    $('body').particleground({
        dotColor: 'white',
        lineColor: 'white'
    });
});

function login() {
    var params = $("#loginForm").serialize();
    var url = '/login'
    $.ajax({
        type: 'post',
        url: url,
        data: params,
        success: function(result) {
            if (result.resultCode == 200) {
                window.location.href = '/admin/index';
            } else {
                Swal.fire({
                    text: result.message,
                    icon: 'error',
                    confirmButtonText: '确定',
                });
            };
        },
        error: function() {
            Swal.fire({
                text: '操作失败',
                icon: 'error',
                confirmButtonText: '确定',
            });
        }
    });
}
</script>

</html>